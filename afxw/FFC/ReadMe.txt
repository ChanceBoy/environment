――――――――――――――――――――――――――――――――――――――
　　　　　　　　　　　高速ファイルコピー/移動ツール
　　　　　　　　　　　　　 - Fire File Copy -
　　　　　　　　　　　　　　 Version 4.9.1

　　　　　　　　　　　Copyright (C) kitt ,2001-2009
――――――――――――――――――――――――――――――――――――――

ダウンロードありがとうございます。

FireFileCopyは物理メモリを、巨大なバッファとして使用することによりHDDヘッド
のシーク動作を抑え、ファイルのコピー/移動を高速かつ静かに行うアプリケーショ
ンです。OSのキャッシュシステムを最小限（全く）しか使わずにコピーするためスル
ープットが高く、コピー処理による空きメモリの圧迫がありません。そのため、処理
中や処理後にOSが重くならず、大容量・大量のファイルを安定して処理できるという
特徴もあります。
また2GB以上の巨大ファイルも効率よくコピーでき、大きなファイルも断片化を極力
抑えて書きこめます。その他、コピー時の各種付加機能も充実させ、シェル拡張機能
によるエクスプローラとのシームレスな操作性、ファイルのコピーや移動、バックア
ップなど様々な用途で快適なファイル操作を実現しました。

詳しい使い方などは、ヘルプファイル(FFC.chm)をご覧ください。

--------------------------------------------------------------------------

■ファイル構成
　FFC.exe 　　　　実行ファイル本体
　FFC.dll 　　　　補助DLL
　ffc_filter.dll　補助DLL(ファイルフィルタ)
　ReadMe.txt　　　このテキスト
　FFC.chm 　　　　ヘルプ
　--------
　ffc_shell.dll　　　　シェル拡張DLL(シンプルメニュー)
　ffc_shell2.dll 　　　シェル拡張DLL(ユーザ定義メニュー)
　setup_shell.exe　　　シェル拡張設定ツール
　--------
　ffc.exe.manifest 　　(UNICODE版のみ)Visual styleマニュフェスト
　setup_shell.exe.manifest　　　　　　　　　　〃


■動作環境
　・Windows 95/98/Me (ANSI版)
　　Windows NT4.0(SP4以降)/2000/XP/Vista (UNICODE版)
　・VisualC++ MFC DLL　ANSI版はMFC42.DLL、UNICODE版はMFC42U.DLL
　　MFCのDLLはWin98以降のOSなら、ほぼ標準で入っています。入っていない場合は
　　下記からダウンロードし、WindowsのSystemフォルダに入れてください。
　　　http://www.k3.dion.ne.jp/~kitt/pc/sw/mfc42.zip
　・空きメモリ20MB以上(必須ではないが推奨)

■インストール／アンインストール／バージョンアップ
●FireFileCopy本体
　→インストール
　　FireFileCopy本体にはインストーラはありません。ZIPファイルを適当なフォル
　　ダに解凍するだけでOK。ヘルプをよくお読みの上、ご使用ください。

　→アンインストール
　　FireFileCopyが入ったフォルダを削除するだけです。本体はレジストリを使いま
　　せん。ただしシェル拡張をインストールしているときは、先にそのアンインス
　　トールが必要です（下記参照）。

　→バージョンアップ
　　FFC.exe と FFC.dllを新しいバージョンで上書きするだけでOKです。

●シェル拡張　[エクスプローラの右クリック／右ドロップメニューから処理したい
　　　　　　　 場合はインスール]
　→インストール
　　setup_shell.exe を実行してください。(NT系のOSの場合、管理者権限が必要)

　→アンインストール
　　ffc_shell.dll がWindowsに登録されていて、そのままでは削除できません。ア
　　ンインストールは、setup_shell.exe を実行し、拡張の[有効]のチェックを外し
　　てください。その後、DLLファイルを削除してください。使用中で削除できない場
　　合は、再起動後、削除してください。

　→バージョンアップ
　　ファイルのプロパティで ffc_shell.dllのバージョンを確認し、同じ場合はバー
　　ジョンアップの必要はありません。
　　ffc_shell.dllが使用中で上書きできない時は、一旦シェル拡張をアンインスト
　　ールし、再起動後、上書きして下さい。


■著作権など
FireFileCopy はフリーウェアです。雑誌・書籍などの有形物へ紹介記事などを掲載
する場合、あるいは CD-ROMなどに収録する場合は、必ずご一報ください。
Web上での転載・再配布については
　1)同梱のファイルを改変しない
　2)バージョン管理をしっかり行い、必ず最新のバージョンを配布する
上記を守っていただければ基本的に自由です。

☆Special Thanks
　・ANSI版でフォルダのタイムスタンプを変更する処理は、K.Takata氏の「touch」の
　　ソースを参考にさせていただきました。感謝申し上げます。
　・掲示板その他で、有用な技術的アドバイスを与えてくださった方々、またバグ報
　　告、動作報告、便利な機能のアイデアを与えてくださった多くの方々に感謝申し
　　上げます。


■免責事項
FireFileCopyを使ったことによる、ファイルデータ損壊などを含む、いかなる障害・
損害も、たとえそれが FireFileCopyのバグによるものであっても、作者は一切責任
を負いません。


■最近の変更履歴（過去の変更履歴はヘルプに掲載しています）

| ○：機能追加／改善　　□：バグ修正

━━2009/ 7/31　4.9.1 (ファイルバージョン4.9.1.0) ━━
□(4.9.0〜)同期でワイルドカードを指定したとき、処理先直下のファイルが削除され
　ないのを修正
□ディレクトリの断片化抑制が有効のとき、リネーム(先)が失敗する場合があるのを
　修正
□処理先のデフォルトを「処理元に合わせる」にしているとき、シェル拡張の右クリ
　ックメニューでの処理先選択ダイアログに、その設定が反映されないのを修正


━━2009/ 4/27　4.9.0 (ファイルバージョン4.9.0.12) ━━
○上書き動作条件の詳細化(更新日時が古い・同じ・新しい・違う、サイズが小さい・
　同じ・大きい・違う) 上書き確認モード設定のコンボボックスに既定の動作として
　「非上書き」、「マージ」(古い方をリネーム)、「相違上書き」(更新日時かサイズ
　が異なれば上書き)を追加。またカスタム上書き動作指定では、上記条件を５つまで
　組合わせて指定可能とした。
○上書き動作条件を指定するコマンドラインオプション /ov: 追加
○同期モード時でも、上書き動作を指定できるようにした。従来は「更新上書き」(今
　回の「最新上書き」に相当)に固定されていたが、上記「相違上書き」なども選択で
　きるようにする。どちらをデフォルトとするかは設定→起動(処理の開始)で設定可。
　コマンドラインにおいても /syncは /t を暗黙で使用していたが、これは撤廃し、
　/a、/t、今回追加した/ov:での上書指定を可能とした
○同期モードで処理元をワイルドカード指定した場合の動作を改善。処理元のワイル
　ドカードパタンを処理先に適用し、削除判定を行うようにした。(ワイルドカード指
　定したときの動作が従来と変わっていますので、バージョンアップ時はテストモー
　ドにて検証下さい)
○テストモードの追加。「拡張処理」の「テストモード」で設定可能。またコマンド
　ラインオプション /ts　/ts: の追加。
○ディレクトリの断片化抑制ONのとき、処理始めのファイル事前作成時/キャンセル時
　のファイル削除時に進捗を表示するようにした
○ベリファイON時、残り時間0:00になった後でもベリファイの進捗を表示するように
　した
○ベリファイがデフォルトONのドライブ(設定→ベリファイ→ドライブの指定)に対し
　て、一時的にベリファイを無効にするコマンドラインオプション /-vf の追加
○ベリファイ時のダミーデータ書込み処理を最大10秒(低速転送モードのとき20秒)に
　制限した
○ベリファイ時のハッシュアルゴリズムでCRC32/MD5以外も指定できるようにした
○内部バッファサイズ(≠確保バッファサイズ)を最大I/Oサイズの整数倍に自動調整す
　るオプション追加(設定→メモリI/O)
○一部のアプリ(iTunes等)でコピーしたファイルを「FireFileCopyで貼付け」すると、
　「クリップボードから貼り付けできません」となる場合があるのを改善
○最小化状態で起動するコマンドラインオプション /min追加 (設定→起動→ウィンド
　ウ位置の記憶・復元で、最小化も記憶する設定であっても、このオプションでの起
　動による最小化は復元されません)
○処理先選択ダイアログのサイズを記憶できるようにした（表示→処理先の選択）
○すでに処理元ファイルが指定されている状態で「処理元の登録」(Fromのフォルダア
　イコン→ファイル/フォルダの登録 or 設定→アプリケーション→処理元の編集)を
　した場合は、編集画面にパスをデフォルトで表示するようにした
○拡張処理の手動指定(ベリファイ・副ストリームコピー)を、1処理毎にリセットしな
　いようにした
○リネーム書式にファイルの更新日時を使えるようにした(リネーム書式に?@を付加す
　ると、更新日時モードになる。無い場合は従来どおり現在日時モード)
○処理先ファイル書込み完了時のAPIエラーチェック強化とエラー時のリトライ(一部
　のアンチウィルス系ソフトとの相性問題の低減)
□(4.8.1〜)ファイルフィルタを変更し、[適用]を押さずにGO!ボタンを押すとダンマ
　リ状態となることがあるのを修正
□(4.8.0〜)ディレクトリの断片化抑制ONのとき、処理の中断やエラーの発生があると、
　事前作成ファイルが削除されない、あるいは強制終了する場合があるのを修正
□(4.8.0〜)フィルタ定義をINIから読み出すときに100字に制限されてしまうのを修正
□(4.8.0〜)コマンドラインで:make:の相対日付指定(t)が使えないのを修正
□(4.7.0〜)タイムフィルタを使用したときに強制終了する場合があるのを修正
□ファイルリストの表示項目フィルタで「スキップしたファイル」を選択しても、正
　常に表示されないのを修正(また、選択方式を変更)
□(4.7.0〜)同一ドライブ内大ファイル処理(Aモード処理)が従来より遅くなっていた
　のを修正(FILE_FLAG_NO_BUFFERINGが効いていなかった)
□同一ドライブ処理(Bモード)で、上書しなかったファイルの次のファイルでバッファ
　がいっぱいになると、そのファイルもスキップされる場合があるのを修正
□上書しないファイルがあると、タイムスタンプがコピーされないフォルダが発生す
　る場合があるのを修正
□読み取り専用属性のファイルの削除がログされないのを修正
□処理完了後のタスクの!shutdown0コマンドで、環境により(Win2000等)電源が切れな
　い場合があるのを修正
□処理中のファイル名表示を一旦「表示しない」にした後、それ以外に戻した場合、
　表示が更新されないのを修正
□ウィンドウ位置の記憶・復元が有効の設定で、デスクトップのタスクバーを上に表
　示していると、セカンダリモニタでの復元位置がずれるのを修正
□(UNICODE版)ジャンクションのコピー時に、リンク先がオフラインだと失敗する場合
　があるのを修正
□(UNICODE版)副ストリームコピーが有効のとき、実際はNTFSでないがNTFSと報告する
　ドライブ(samba等)に対し、副ストリームをサポートしていると誤判定する問題の対
　策


---------------------------------------------------------------------------
↓機能追加、パフォーマンスの改善、バグ修正などを随時行っています。最新版を必
　ずご確認ください
http://www.k3.dion.ne.jp/~kitt/pc/sw/ffc/
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　 2009/ 7/31, kitt
　　　　　　　　　　　　　　　　　　　　　　　　　　　　 kitt@y5.dion.ne.jp
　　　　　　　　　　　 要望、感想、不具合報告など、どしどしお寄せくださ〜い
